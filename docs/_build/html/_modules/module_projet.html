
<!DOCTYPE html>

<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>module_projet &#8212; Documentation Site Meteo 2025</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/translations.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Code source de module_projet</h1><div class="highlight"><pre>
<span></span>
<span class="kn">import</span> <span class="nn">requests</span>  <span class="c1"># type: ignore # Pour faire des requêtes HTTP</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>  <span class="c1"># type: ignore # Pour analyser le contenu HTML</span>
<span class="kn">import</span> <span class="nn">re</span>  <span class="c1"># Pour les expressions régulières</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>  <span class="c1"># Pour manipuler les dates</span>
<span class="kn">import</span> <span class="nn">json</span>  <span class="c1"># Pour manipuler les fichiers JSON</span>

<div class="viewcode-block" id="get_html_page"><a class="viewcode-back" href="../module_projet.html#module_projet.get_html_page">[docs]</a><span class="k">def</span> <span class="nf">get_html_page</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Récupère le contenu HTML d&#39;une page web à partir de son URL.</span>

<span class="sd">    Args:</span>
<span class="sd">        url (str): L&#39;URL de la page web.</span>

<span class="sd">    Returns:</span>
<span class="sd">        BeautifulSoup: Objet BeautifulSoup contenant le contenu HTML.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">entete</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;User-Agent&#39;</span><span class="p">:</span> <span class="s1">&#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3&#39;</span><span class="p">}</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">entete</span><span class="p">)</span>
        <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">RequestException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Erreur lors de la récupération de la page : </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="recuperer_donnees_meteobleu"><a class="viewcode-back" href="../module_projet.html#module_projet.recuperer_donnees_meteobleu">[docs]</a><span class="k">def</span> <span class="nf">recuperer_donnees_meteobleu</span><span class="p">(</span><span class="n">site_aeroport</span><span class="p">,</span> <span class="n">number</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extrait les données météo d&#39;une page MeteoBleu.</span>

<span class="sd">    Args:</span>
<span class="sd">        site_aeroport (str): Code ou nom de l&#39;aéroport.</span>
<span class="sd">        number (int): Numéro du jour.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Dictionnaire contenant les données extraites.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://www.meteoblue.com/fr/meteo/semaine/</span><span class="si">{</span><span class="n">site_aeroport</span><span class="si">}</span><span class="s2">?day=</span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s2">&quot;</span>
    
    <span class="n">soup</span> <span class="o">=</span> <span class="n">get_html_page</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        

    <span class="n">div</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;day</span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">tab</span> <span class="o">=</span> <span class="n">div</span><span class="o">.</span><span class="n">find_next</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">&#39;tab-content&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">div</span><span class="p">:</span>
        <span class="n">temperature_max</span> <span class="o">=</span> <span class="n">tab</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">&#39;tab-temp-max&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get_text</span><span class="p">(</span><span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="n">tab</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;tab-temp-max&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="n">temperature_min</span> <span class="o">=</span> <span class="n">tab</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;tab-temp-min&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get_text</span><span class="p">(</span><span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="n">div</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;tab-temp-min&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="n">precipitation</span> <span class="o">=</span> <span class="n">tab</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;tab-precip&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get_text</span><span class="p">(</span><span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="n">div</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;tab-precip&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="n">wind_div</span> <span class="o">=</span> <span class="n">tab</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;wind&quot;</span><span class="p">)</span>
        <span class="n">vent_vitesse</span> <span class="o">=</span> <span class="n">tab</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;wind&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get_text</span><span class="p">(</span><span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="n">wind_div</span> <span class="ow">and</span> <span class="n">tab</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;wind&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="n">vent_direction</span> <span class="o">=</span> <span class="n">wind_div</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">)[</span><span class="s1">&#39;class&#39;</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="k">if</span> <span class="n">wind_div</span> <span class="ow">and</span> <span class="n">wind_div</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">)[</span><span class="s1">&#39;class&#39;</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="n">ensoleillement</span> <span class="o">=</span> <span class="n">tab</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;tab-sun&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get_text</span><span class="p">(</span><span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="n">div</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;tab-sun&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="n">icone</span><span class="o">=</span><span class="n">tab</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;img&#39;</span><span class="p">)[</span><span class="s1">&#39;alt&#39;</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;temperature_max&quot;</span><span class="p">:</span> <span class="n">temperature_max</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\xa0</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">),</span>
            <span class="s2">&quot;temperature_min&quot;</span><span class="p">:</span> <span class="n">temperature_min</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\xa0</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">),</span>
            <span class="s2">&quot;precipitation&quot;</span><span class="p">:</span> <span class="n">precipitation</span><span class="p">,</span>
            <span class="s2">&quot;vent_vitesse&quot;</span><span class="p">:</span> <span class="n">vent_vitesse</span><span class="p">,</span>
            <span class="s2">&quot;vent_direction&quot;</span><span class="p">:</span> <span class="n">direction_vent_meteobleu</span><span class="p">(</span><span class="n">vent_direction</span><span class="p">),</span>
            <span class="s2">&quot;ensoleillement&quot;</span><span class="p">:</span> <span class="n">ensoleillement</span><span class="p">,</span>
            <span class="s2">&quot;icone&quot;</span><span class="p">:</span><span class="n">icone</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Div avec id=day </span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s2"> introuvable.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span></div>
<div class="viewcode-block" id="direction_vent_meteobleu"><a class="viewcode-back" href="../module_projet.html#module_projet.direction_vent_meteobleu">[docs]</a><span class="k">def</span> <span class="nf">direction_vent_meteobleu</span><span class="p">(</span><span class="n">wind_direction</span><span class="p">):</span>
    <span class="c1"># Dictionnaire des directions de vent</span>
    <span class="n">directions</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;S&quot;</span><span class="p">:</span> <span class="s2">&quot;Sud&quot;</span><span class="p">,</span>
        <span class="s2">&quot;SW&quot;</span><span class="p">:</span> <span class="s2">&quot;Sud-Ouest&quot;</span><span class="p">,</span>
        <span class="s2">&quot;W&quot;</span><span class="p">:</span> <span class="s2">&quot;Ouest&quot;</span><span class="p">,</span>
        <span class="s2">&quot;NW&quot;</span><span class="p">:</span> <span class="s2">&quot;Nord-Ouest&quot;</span><span class="p">,</span>
        <span class="s2">&quot;N&quot;</span><span class="p">:</span> <span class="s2">&quot;Nord&quot;</span><span class="p">,</span>
        <span class="s2">&quot;NE&quot;</span><span class="p">:</span> <span class="s2">&quot;Nord-Est&quot;</span><span class="p">,</span>
        <span class="s2">&quot;E&quot;</span><span class="p">:</span> <span class="s2">&quot;Est&quot;</span><span class="p">,</span>
        <span class="s2">&quot;SE&quot;</span><span class="p">:</span> <span class="s2">&quot;Sud-Est&quot;</span>
    <span class="p">}</span>
    
    <span class="c1"># Retourner la direction complète à partir de l&#39;abréviation</span>
    <span class="k">return</span> <span class="n">directions</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">wind_direction</span><span class="p">,</span> <span class="s2">&quot;Direction inconnue&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="recuperer_donnees_metar_taf"><a class="viewcode-back" href="../module_projet.html#module_projet.recuperer_donnees_metar_taf">[docs]</a><span class="k">def</span> <span class="nf">recuperer_donnees_metar_taf</span><span class="p">(</span><span class="n">code_aeroport</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extrait les données METAR/TAF d&#39;une page.</span>

<span class="sd">    Args:</span>
<span class="sd">        code_aeroport (str): Code de l&#39;aéroport (ICAO ou autre).</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Dictionnaire contenant les données extraites.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://metar-taf.com/fr/</span><span class="si">{</span><span class="n">code_aeroport</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="n">soup</span> <span class="o">=</span> <span class="n">get_html_page</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    
    <span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">metar_div</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;metar&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">metar_div</span><span class="p">:</span>
        <span class="c1"># Nom de l&#39;aéroport</span>
        <span class="n">airport_name_match</span> <span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&lt;h1 class=&quot;h4 mb-0 text-ellipsis&quot;&gt;(.+?)&lt;/h1&gt;&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">metar_div</span><span class="p">))</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;airport_name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">airport_name_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">if</span> <span class="n">airport_name_match</span> <span class="k">else</span> <span class="kc">None</span>

        <span class="c1"># Température</span>
        <span class="n">temp_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\d+ \u00b0C)&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">metar_div</span><span class="p">))</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;temperature&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">if</span> <span class="n">temp_match</span> <span class="k">else</span> <span class="kc">None</span>

        <span class="c1"># Visibilité</span>
        <span class="n">visibility_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&lt;h3 class=&quot;mb-0&quot;&gt;(\d+ km)&lt;/h3&gt;&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">metar_div</span><span class="p">))</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;visibility&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">visibility_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">if</span> <span class="n">visibility_match</span> <span class="k">else</span> <span class="kc">None</span>

        <span class="c1"># Vitesse et direction du vent</span>
        <span class="n">wind_speed_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&lt;h3 class=&quot;mb-0&quot;&gt;\s*(\d+\s*kt)\s*&lt;/h3&gt;&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">metar_div</span><span class="p">))</span>
        <span class="n">wind_dir_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\d</span><span class="si">{3}</span><span class="s1">\u00b0)&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">metar_div</span><span class="p">))</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;wind_speed&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">wind_speed_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="k">if</span> <span class="n">wind_speed_match</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;wind_direction&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">wind_dir_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">if</span> <span class="n">wind_dir_match</span> <span class="k">else</span> <span class="kc">None</span>

        <span class="c1"># Altitude des nuages</span>
        <span class="n">cloud_alt_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&lt;h3 class=&quot;mb-0&quot;&gt;s*(\d+(\.\d+)?)\s*ft\s*&lt;/h3&gt;&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">metar_div</span><span class="p">))</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;cloud_altitude&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cloud_alt_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">if</span> <span class="n">cloud_alt_match</span> <span class="k">else</span> <span class="kc">None</span>

        <span class="c1"># Pression atmosphérique</span>
        <span class="n">pressure_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&lt;h3 class=&quot;mb-0&quot;&gt;(\d+ hPa)&lt;/h3&gt;&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">metar_div</span><span class="p">))</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;pressure&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pressure_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">if</span> <span class="n">pressure_match</span> <span class="k">else</span> <span class="kc">None</span>
    

    <span class="k">return</span> <span class="n">convertir_donnees_metar</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div>

<div class="viewcode-block" id="direction_du_vent_metar"><a class="viewcode-back" href="../module_projet.html#module_projet.direction_du_vent_metar">[docs]</a><span class="k">def</span> <span class="nf">direction_du_vent_metar</span><span class="p">(</span><span class="n">degrees</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Identifie la direction du vent en fonction de l&#39;angle en degrés.</span>

<span class="sd">    Cette fonction prend un angle en degrés (compris entre 0 et 360) et retourne</span>
<span class="sd">    la direction du vent correspondant à cet angle selon les directions cardinales</span>
<span class="sd">    et intermédiaires.</span>

<span class="sd">    Paramètres :</span>
<span class="sd">    degrees (float) : L&#39;angle en degrés mesuré par rapport au nord, compris entre 0 et 360.</span>
<span class="sd">                      Par exemple, 0° correspond au Nord, 90° à l&#39;Est, 180° au Sud, etc.</span>

<span class="sd">    Retourne :</span>
<span class="sd">    str : La direction du vent correspondante (par exemple, &quot;Nord&quot;, &quot;Sud-Ouest&quot;).</span>
<span class="sd">          Si l&#39;angle est invalide (en dehors de l&#39;intervalle [0, 360]), la fonction retourne &quot;Direction invalide&quot;.</span>

<span class="sd">    Exemple :</span>
<span class="sd">    &gt;&gt;&gt; direction_du_vent(290)</span>
<span class="sd">    &#39;Ouest&#39;</span>
<span class="sd">    </span>
<span class="sd">    &gt;&gt;&gt; direction_du_vent(45)</span>
<span class="sd">    &#39;Nord-Est&#39;</span>
<span class="sd">    </span>
<span class="sd">    &gt;&gt;&gt; direction_du_vent(400)</span>
<span class="sd">    &#39;Direction invalide&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="c1"># Créer une liste des intervalles de degrés correspondant aux directions cardinales</span>
    <span class="n">directions</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;Nord&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">45</span><span class="p">,</span> <span class="s2">&quot;Nord-Est&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="s2">&quot;Est&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">135</span><span class="p">,</span> <span class="s2">&quot;Sud-Est&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">180</span><span class="p">,</span> <span class="s2">&quot;Sud&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">225</span><span class="p">,</span> <span class="s2">&quot;Sud-Ouest&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">270</span><span class="p">,</span> <span class="s2">&quot;Ouest&quot;</span><span class="p">),</span>
        <span class="p">(</span><span class="mi">315</span><span class="p">,</span> <span class="s2">&quot;Nord-Ouest&quot;</span><span class="p">),</span>
    <span class="p">]</span>
    
    <span class="c1"># S&#39;assurer que l&#39;angle est dans l&#39;intervalle [0, 360]</span>
    <span class="k">if</span> <span class="n">degrees</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">degrees</span> <span class="o">&gt;=</span> <span class="mi">360</span><span class="p">:</span>
        <span class="k">return</span> <span class="s2">&quot;Direction invalide&quot;</span>

    <span class="c1"># Trouver la direction correspondant à l&#39;angle</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">directions</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">degrees</span> <span class="o">&gt;=</span> <span class="n">directions</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">degrees</span> <span class="o">&lt;</span> <span class="n">directions</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]:</span>
            <span class="k">return</span> <span class="n">directions</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    
    <span class="c1"># Si l&#39;angle est supérieur ou égal à 315°, c&#39;est le Nord</span>
    <span class="k">return</span> <span class="n">directions</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span></div>

<div class="viewcode-block" id="convertir_donnees_metar"><a class="viewcode-back" href="../module_projet.html#module_projet.convertir_donnees_metar">[docs]</a><span class="k">def</span> <span class="nf">convertir_donnees_metar</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convertit les unités des données météorologiques dans le dictionnaire `data` et </span>
<span class="sd">    met à jour ces valeurs avec les unités mondiales.</span>

<span class="sd">    Paramètres :</span>
<span class="sd">    data (dict) : Un dictionnaire contenant les données météorologiques avec les unités locales.</span>

<span class="sd">    Retourne :</span>
<span class="sd">    dict : Le dictionnaire mis à jour avec les données converties et les unités mondiales.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Conversion de la vitesse du vent de nœuds (kt) en km/h</span>
    <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;wind_speed&#39;</span><span class="p">):</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;wind_speed&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;wind_speed&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;kt&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="o">*</span> <span class="mf">1.852</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; km/h&#39;</span>
    
    <span class="c1"># Conversion de l&#39;altitude des nuages de pieds (ft) en mètres</span>
    <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;cloud_altitude&#39;</span><span class="p">):</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;cloud_altitude&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;cloud_altitude&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;ft&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="o">*</span> <span class="mf">0.3048</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; m&#39;</span>
    
    <span class="c1"># Conversion de la direction du vent en texte lisible (Nord, Est, etc.)</span>
    <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;wind_direction&#39;</span><span class="p">):</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;wind_direction&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">direction_du_vent_metar</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;wind_direction&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;°&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()))</span>

    <span class="k">return</span> <span class="n">data</span></div>

<div class="viewcode-block" id="get_code_aeroport"><a class="viewcode-back" href="../module_projet.html#module_projet.get_code_aeroport">[docs]</a><span class="k">def</span> <span class="nf">get_code_aeroport</span> <span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="c1"># Liste des aéroports en France et leurs codes OACI</span>
    <span class="n">aeroports</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Paris-Charles-de-Gaulle&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFPG&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Paris-Orly&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFPO&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Lyon-Saint-Exupéry&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFLL&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Marseille-Provence&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFML&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Nice-Côte d&#39;Azur&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFMN&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Toulouse-Blagnac&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFBO&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Bordeaux-Mérignac&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFBD&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Nantes-Atlantique&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFRS&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Strasbourg-Entzheim&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFST&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Lille-Lesquin&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFQQ&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Montpellier-Méditerranée&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFMT&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Rennes-Saint-Jacques&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFRN&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Bâle-Mulhouse (EuroAirport)&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFSB&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Ajaccio-Napoléon-Bonaparte&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFKJ&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Bastia-Poretta&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFKB&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Figari-Sud-Corse&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFKF&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Clermont-Ferrand Auvergne&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFLC&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Pau-Pyrénées&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFBP&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Perpignan-Rivesaltes&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFMP&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Brest Bretagne&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFRB&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Deauville-Normandie&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFRG&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Limoges-Bellegarde&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFBL&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Toulon-Hyères&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFTH&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Lorient Bretagne Sud&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFRH&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Grenoble Alpes Isère&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFLS&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Caen-Carpiquet&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFRK&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Le Havre-Octeville&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFOH&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Angers-Loire&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFJR&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Tours Val de Loire&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFOT&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Metz-Nancy-Lorraine&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFJL&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Dijon-Bourgogne&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFSD&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Chambéry-Savoie&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFLB&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Tarbes-Lourdes-Pyrénées&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFBT&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;La Rochelle-Île de Ré&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFBH&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Poitiers-Biard&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFBI&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Avignon-Provence&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFMV&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Nîmes-Alès-Camargue-Cévennes&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFTW&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Brive-Souillac&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFSL&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Biarritz-Pays Basque&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFBZ&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Calvi-Sainte-Catherine&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFKC&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Agen-La Garenne&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFBA&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Annecy Mont-Blanc&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFLP&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Valence-Chabeuil&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFLU&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Châteauroux-Centre&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFLX&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Albi-Le Séquestre&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFCI&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Vannes-Meucon&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFRV&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Saint-Brieuc Armor&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFRT&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Aéroport d&#39;Épinal-Mirecourt&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFSG&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Aurillac-Tronquières&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFLW&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Bergerac Dordogne Périgord&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFBE&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Dole-Jura&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFGJ&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Châlons Vatry&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFOK&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Carcassonne-Salvaza&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFMK&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Castres-Mazamet&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFCK&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Lannion-Côte de Granit&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFRO&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Rodez-Aveyron&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFCR&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Perigueux-Bassillac&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFBX&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;nom&quot;</span><span class="p">:</span> <span class="s2">&quot;Troyes-Barberey&quot;</span><span class="p">,</span> <span class="s2">&quot;code_oaci&quot;</span><span class="p">:</span> <span class="s2">&quot;LFQB&quot;</span><span class="p">}</span>
    <span class="p">]</span>
    <span class="k">for</span> <span class="n">aeroport</span> <span class="ow">in</span> <span class="n">aeroports</span> <span class="p">:</span>
        <span class="k">if</span> <span class="n">aeroport</span> <span class="p">[</span><span class="s2">&quot;nom&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">name</span> <span class="p">:</span>
            <span class="k">return</span> <span class="n">aeroport</span><span class="p">[</span><span class="s2">&quot;code_oaci&quot;</span><span class="p">]</span>
    <span class="k">return</span> <span class="kc">None</span> </div>

<div class="viewcode-block" id="exporter_donnees_en_json"><a class="viewcode-back" href="../module_projet.html#module_projet.exporter_donnees_en_json">[docs]</a><span class="k">def</span> <span class="nf">exporter_donnees_en_json</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">nom_fichier</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Exporte les données dans un fichier JSON.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (dict): Données météorologiques.</span>
<span class="sd">        nom_fichier (str): Nom du fichier JSON.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">nom_fichier</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fichier</span><span class="p">:</span>
            <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">fichier</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Données exportées dans </span><span class="si">{</span><span class="n">nom_fichier</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">IOError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Erreur lors de l&#39;écriture du fichier JSON : </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></div>
</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Site Meteo</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Code du module</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Recherche rapide</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2025, AMMI LOUNES EL BOUTI SOUFIANE.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>